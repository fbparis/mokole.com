<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>MOKOLÉ Kids</title>
	    <meta name="description" content="MOKOLÉ Kids est une version simplifiée du jeu de lettres MOKOLÉ qui consiste à deviner les douze lettres formant une grille colorée de six mots.">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="application-name" content="MOKOLÉ Kids">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-title" content="MOKOLÉ Kids">
		<link rel="apple-touch-icon" sizes="57x57" href="apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="ms-icon-144x144.png">
		<meta name="theme-color" content="#0fb8ad">
		<link rel="manifest" href="manifest.json">
	    <link rel="canonical" href="//mokole.com/kids/">
	    <style>
		    /* z-indexes */
		    .modal { z-index: 2000; }
		    .overlay { z-index: 1000; }
		    .screen { z-index: 300; }
		    .screen-container, .topbar { z-index: 200; }
		    .main { z-index: 100; }
		    /* puzzle's cases styles */
		    .c0 { background: radial-gradient(circle, rgba(227,35,34,1), rgba(227,35,34,0.6)); }
		    .c1 { background: radial-gradient(circle, rgba(233,98,32,1), rgba(233,98,32,0.6)); }
		    .c2 { background: radial-gradient(circle, rgba(242,142,28,1), rgba(242,142,28,0.6)); }
		    .c3 { background: radial-gradient(circle, rgba(250,199,12,1), rgba(250,199,12,0.6)); }
		    .c4 { background: radial-gradient(circle, rgba(243,229,0,1), rgba(243,229,0,0.6)); }
		    .c5 { background: radial-gradient(circle, rgba(141,187,37,1), rgba(141,187,37,0.6)); }
		    .c6 { background: radial-gradient(circle, rgba(0,143,90,1), rgba(0,143,90,0.6)); }
		    .c7 { background: radial-gradient(circle, rgba(6,150,187,1), rgba(6,150,187,0.6)); }
		    .c8 { background: radial-gradient(circle, rgba(42,113,175,1), rgba(42,113,175,0.6)); }
		    .c9 { background: radial-gradient(circle, rgba(69,78,153,1), rgba(69,78,153,0.6)); }
		    .c10 { background: radial-gradient(circle, rgba(109,57,139,1), rgba(109,57,139,0.6)); }
		    .c11 { background: radial-gradient(circle, rgba(197,3,125,1), rgba(197,3,125,0.6)); }
		    /* @declarations */
			@keyframes pulse {
				50% { transform: scale(.9); }
			}
			@keyframes blink {  
				50% { opacity: 0; }
			}
		    /* basic reset */
		    div { margin: 0px; padding: 0px; }
		    img {
				max-width: 100%;
				height: auto;	
		    }
		    /* Mokolé's style */
		    body {
			    font-family: Arial, Helvetica, sans-serif;
			    /* preload cursor:active image */
			    background: white url(img/tinified/hand2-64.png) no-repeat -9999px -9999px;
			    color: black;
			    margin: 0px;
			    padding: 0px;
				-webkit-tap-highlight-color: rgba(0,0,0,0);
			    /* unselectable text */
			    -webkit-touch-callout: none;
			    -webkit-user-select: none;
			    -khtml-user-select: none;
			    -moz-user-select: none;
			    -ms-user-select: none;
			    user-select: none;
		    }
		    .clickable {
			    cursor: url(img/tinified/hand1-64.png), pointer;
		    }
		    .clickable:active {
			    cursor: url(img/tinified/hand2-64.png), pointer;
		    }
		    .main {
			    position: absolute;
			    top: 0px;
			    left: 0px;
			    bottom: 0px;
			    right: 0px;
			    /* undragable elements */
				user-drag: none; 
				-webkit-user-drag: none;
				-moz-user-drag: none;
				-ms-user-drag: none;			    
		    }
		    .topbar {
			    position: absolute;
			    top: 0px;
			    left: 0px;
			    right: 0px;
			    height: 54px;
			    background-color: #3CC;
			    background: linear-gradient(141deg, #0fb8ad 0%, #1fc8db 51%, #2cb5e8 75%);
			    color: white;
			    padding: 0em 1vmin;
		    }
		    h1.logo {
			    position: absolute;
			    top: 2px;
			    left: 1vmin;
			    height: 52px;
			    width: 261px;
			    margin: 0px;
			    color: transparent;
			    background-image: url(img/tinified/mokole-kids.png);
			    background-size: contain;
		    }
		    .volume {
				background-size: 100%;
				background-image: url('img/tinified/sprite-volume.png');			    
			    height: 54px;
			    width: 54px;
			    float: right;
			    margin-left: -1em;
			    margin-right: 1vmin;
		    }
		    .mute { background-position: 0% 100%; }
		    .unmute { background-position: 0% 0%; }		    
		    .mute:after, .unmute:after {
			    opacity: 0;
			    content: "";
		    }
		    .mute:active:after, .unmute:active:after, .mute:focus:after, .unmute:focus:after {
			    content: "";
			    opacity: 0;
			    display: none;
		    }
		    .mute:hover:after, .unmute:hover:after {
			    transition: opacity .3s linear 1s;
			    color: rgba(255, 255, 255, 1);
			    background-color: rgba(0, 0, 0, 1);
			    position: absolute;
			    white-space: nowrap;
			    padding: 1ex 1em;
			    opacity: 1;
			    text-align: center;
			    top: 64px;
			    right: 20px;
		    }
		    .mute:hover:after {
			    content: "Couper le son";
		    }
		    .unmute:hover:after {
			    content: "Remettre le son";
		    }
		    .pulse:hover {
			    animation-name: pulse;
				animation-duration: .4s;
				animation-timing-function: linear;
				animation-iteration-count: 2;			    
		    }
			.pulse:active {
				animation: none;
				transform: scale(0.9);
			}
		    .screen-container {
			    position: absolute;
			    width: 100%;
			    top: 54px;
			    bottom: 0px;
			    box-shadow: 0px 6px 3px 3px rgba(0,0,0,0.5) inset;
		    }
		    .screen {
			    width: 100%;
			    height: 100%;
		    }
		    .playground {
			    position: relative;
			}
			.playground:before {
				content: "";
				position: absolute;
				top: 0px;
				left: 0px;
				width: 100%;
				height: 100%;
				opacity: 0.8;
			    background-image: url(img/tinified/wood-bg-02.png);
			    background-repeat: repeat;
		    }
		    #puzzle {
			    position: relative;
		    }
		    #puzzle > div {
			    position: absolute;
			    margin: 0px 1px 1px 0px;
			    box-shadow: 1px 1px 1px 1px rgba(0,0,0,0.5);
			    color: rgba(255, 255, 255, 0.8);
			    text-align: center;
			    vertical-align: middle;
			    font-weight: bold;
			    opacity: 1;
		    }
			#keyboard {
				position: absolute;
				width: 100%;
				bottom: 0px;
				text-align: center;
				overflow-y: hidden;
			}
			.keyboard-row {
				margin: 0px auto;
				clear: both;
			}
			.keyboard-button {
				position: relative;
				opacity: 1;
			    margin: 0px 4px 4px 0px;
			    color: rgba(255, 255, 255, 0.8);
			    float: left;
			    text-align: center;
			    vertical-align: middle;
			    font-weight: bold;
			    box-shadow: 2px 2px 1px 1px rgba(0,0,0,0.5);
			    background-image: url(img/tinified/wood-bg-01.png);
			    background-size: cover;			
			}
		    .modal {}
		    .modal-overlay {}
		    #overlay { cursor: none; }
		    .overlay {
			    position: fixed;
			    top: 0px;
			    left: 0px;
			    width: 100%;
			    height: 100%;
			    background-color: transparent;
		    }
		    #cursor {
			    position: relative;
			    width: 64px;
			    height: 64px;
			    background-image: url(img/tinified/hand1-64.png);
			    background-size: 100%;
			    top: 50%;
			    left: 50%;
			    transition: top 0.5s ease-in-out, left 0.5s ease-in-out, background-image 0.25s linear 0.5s;
		    }
		    .cursor-active { background-image: url(img/tinified/hand2-64.png) !important; }
		    .closed { display: none; }
		    /* data:// images */
		    .yellow-star {
			    content: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAABvFBMVEUAAADxxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA/xxA+APUXGAAAAk3RSTlMAAQIDBAUGBwkKCw0OEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKSosLS4xMjM2Nzg5PkBBQkRFRkdKS0xNTk9QUVJUVVZXWFlbXV5fYWJjZGZnaG1vdXd4eXt8gIaJi46PkZKUlZeYmpudnqCipaaoqqutr7K0tbe6w8XHyszV19na3N7g4uTm6Onr7e/x9ff5+/3wQXIrAAAEbElEQVQYGc3Bi0NTVQAG8G93d5NRDSxhYcoUe4pASVr2YtO0t2GQiWW8ekg+2pAeuLS8KAYju+37h+M597j3jt1zzs75/SDPfhjpUgomWr0AA3VxCQb6lOyAee6S78M4T5K8A+O8zXXtMM3vXPcmDLOHG36FYYa4KQ6zzHHTqzCKVeKmazDKC9xSisIkX3PbyzBI5B9u+xYG6eGOfyMwxxcsS8McSyy7CGMk+dgqjJFhhW6YYpEVRmGINlZyYIjXWCUJM9xglTMwQpTV/oARXmGNdpjgCmuchAEij1jjFxjgAOvEod846wxBv2XWmYN2e1mvFIVu5+jhJeh2hx6uQLN2enkUgV4n6KkXet2ipy+hVYzeVqBVP310Qadp+jgPjSIufdyDRofoKwl9LtJXFvqs0FcB2uxjgAR0+YQBTkCXuwywAE2eYKAY9DjFQIPQ4zcGugot4gxWsqDDEBt4ETr8yAa+gQbWf2zgUQSt9zwbOojQDq/SOD/HgD0LNMwH2HSeJlnej22HVmiMmzGU7blFQ5xFlc9oguUe1EivULsbMdSJz1OzM/D0MXV68Cx8HPyb2ly34SuepyanEegj6nA/hQYOPGTLXbPRUDzHFstgVz5kKy11YZeee8iWmbOxa7GbbJH30JRzbIWlLjRp/zKVu2qjabEbVKv0DkI5S5WcfQip5wGV+SGK0GLXqUbpLQg5TRXuPQNBqQeU7vsohNnXKVfpFKTIUqa/noYk3fcpzXdRSGP/RDlKb0CqEcrw515I1rVEYTNRSGfPUUzpJJR4lyLudkKRfQ5Dm7agjL3AkDJQaZ4h9UOhGMOagULHGJZrQZ1ZhtYHZSyXoU1AmT6GV4QyExSQgipFChiFIimKcKDIKIUkoYZDIVkokaSY21AiS0FtUOE2BQ1DgTaKykOBYQqzIV+ewvohnU1xM5Cun+JcC7LNUII+SGa5lGACkvWxkeKRcTZShGQTbKCQAAZdNpCCXEUGm7SwrtNhsFFIlWKwEWyx8wzkQKpRBin2omycgZKQyWGAQgIVBl0GyEKiJANMWqjS6dDfbUiUpb8R1LLz9NcGeRbpp9gLD+P0NQxp2uinkICnQZc+5iHNcfqYtOCj06GPGGTJ0dsI/Nl5ejsGSWx6KvYi0Dg9zUKSo/RSSKCBQZceXAtyTNPDpIWGOh16OAIpIi7rjWA37DzrXYYUh1mn2ItdGmedIqS4xFqFBHZt0GWtFGQossaUhSZ0OqxxARJ0s0YGzbFzrOZAgs9ZZS2Npo2xWhLi7rFSIYEQBlxWOg1hT7HSlIVQOhxWKEBYhhUyCMvOsUICohZZtpaGgDE+9joEtbGskICQAZc75iHoOHdMWRDU4XBHDGJy3JaBODvHbccgxOaWtTSkGOOWWQg5yk2FBCQZcLnBtSBimhumLEjT4XDDEQiIuFyXgUx2jusuQ8AhkmtpSDZGsggBX5GFBKQbcMkUwlvllAUFOhxeQGhdzEANO+cgtHNpKDOWRFg2FLIR4H+AGiDAMdOJWwAAAABJRU5ErkJggg==);
		    }
		</style>
	</head>
	<body>
		<div class="clickable">
			<div class="main">
				<div class="topbar">
					<h1 class="logo">MOKOLÉ Kids</h1>
					<div id="toggle-sound" class="volume mute pulse" onclick="toggle_sound(this);"></div>
				</div>
				<div id="screen-container" class="screen-container">
					<div id="welcome-screen" class="screen closed"></div>
					<div id="game-screen" class="screen playground">
						<div id="puzzle"></div>
						<div id="keyboard"></div>
					</div>
					<div id="share-screen" class="screen closed"></div>
				</div>
			</div>
			<div id="help-window" class="modal closed"></div>
			<div id="ace-score" class="modal closed"></div>
			<div id="champion-score" class="modal closed"></div>
			<div id="average-score" class="modal closed"></div>
			<div id="bad-score" class="modal closed"></div>
			<div id="modal-overlay" class="overlay modal-overlay closed"></div>
			<div id="overlay" class="overlay closed"><div id="cursor"></div></div>
		</div>
		<script type="text/javascript">
			// Generate initial keyboard in playground screen			
			var ABC = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
			r = document.createElement("div");
			r.className  = "keyboard-row";
			for (i = 0; i < ABC.length; i++) {
				b = document.createElement("div");
				b.id = "L_" + ABC.charAt(i);
				b.className = "keyboard-button pulse";
				b.onclick = function(event) {
					e = event.target || event.srcElement;
					if (e.classList.contains("pulse")) {
						handle_play(e);
					}
				};
				b.innerHTML = ABC.charAt(i);
				r.appendChild(b);
			}
			c = document.createElement("div");
			c.id = "keyboard";
			c.appendChild(r);
			document.getElementById("game-screen").replaceChild(c, document.getElementById("keyboard"));
			
			function toggle_sound(e) {
				if (e.classList.contains("unmute")) {
					e.classList.remove("unmute");
					e.classList.add("mute");
					sounds = true;
				} else {
					e.classList.remove("mute");
					e.classList.add("unmute");
					sounds = false;
				}
			}
			
			function handle_play(e) {
				e.classList.remove("pulse");
				e.style.opacity = "0.95";
				e.style.transform = "scale(0.9)";
				if (e.innerHTML in G.c) {
					play_sound("good-sound");
					e.style.color = "rgb(23, 159, 59)";
					for (x of document.getElementById("puzzle").getElementsByClassName("c" + G.c[e.innerHTML])) {
						x.innerHTML = e.innerHTML;
						x.style.animation = "blink 1s ease-in-out 2";
					}
				} else {
					play_sound("wrong-sound");
					e.style.color = "rgb(218, 11, 44)";
				}
			}
			
			function play_sound(id) {
				if (sounds) {
					if (playing == id) {
						document.getElementById(id).currentTime = 0;
					}
					document.getElementById(id).play();					
				}
			}

			function draw_keyboard() {
				h = document.getElementById("game-screen").getBoundingClientRect().height;
				w = document.getElementById("game-screen").getBoundingClientRect().width;
				h -= 10; // keep some space for margins
				w = Math.min(w, 2 * h);
				if (h > w) {
					// Portait mode, keyboard's height will be 5/12 
					h = h * 5/12;
				} else {
					// Landscape mode, it's complicated
					h = h * Math.min(5/12, h/(2*w));
				}
				// Find the optimal size for keyboard buttons
				d = 4; // marginBottom or marginRight to add to button size
				n = ABC.length;
				px = Math.ceil(Math.sqrt(n * w / h));
				if (Math.floor(px * h / w) * px < n) {
					sx = h / Math.ceil(px * h / w);
				} else {
					sx = w / px;
				}
				py = Math.ceil(Math.sqrt(n * h / w));
				if (Math.floor(py * w / h) * py < n) {
					sy = w / Math.ceil(py * w / h);
				} else {
					sy = h / py;
				}
				button_size = Math.floor(Math.max(sx, sy));
				buttons_per_row = Math.floor(w / button_size);
				buttons_per_row = Math.ceil(n / buttons_per_row);
				buttons_per_row = Math.ceil(n / buttons_per_row);
				button_size -= d;
				c = document.createElement("div")
				c.id = "keyboard";
				r = null;
				for (i = 0; i < n; i++) {
					if (i % buttons_per_row == 0) {
						if (r) {
							r.style.width = (button_size + d) * r.childNodes.length + "px";
							c.appendChild(r);
						}
						r = document.createElement("div");
						r.className = "keyboard-row";
					}
					b = document.getElementById("L_" + ABC.charAt(i));
					b.style.width = button_size + "px";
					b.style.height = button_size + "px";
					b.style.fontSize = button_size - 10 + "px";
					b.style.lineHeight = button_size + "px";
					r.appendChild(b);					
				}
				if (r.childNodes.length > 0) {
					r.style.width = (button_size + d) * r.childNodes.length + "px";
					c.appendChild(r);
				}
				document.getElementById("game-screen").replaceChild(c, document.getElementById("keyboard"));
			}
			
			function draw_puzzle() {
				d = 1; // case margin
				h = document.getElementById("game-screen").getBoundingClientRect().height - document.getElementById("keyboard").getBoundingClientRect().height - 10; // margins
				w = document.getElementById("game-screen").getBoundingClientRect().width - 2; // margins
				coords = [];
				if (((w < h) && (G.h < G.w)) || ((h < w) && (G.w < G.h))) {
					gw = G.h;
					gh = G.w;
					for (i in G.k) {
						c = G.k[i].split("_");
						coords.push({x: c[1], y: c[0], v: G.v[i], c: "c" + G.c[G.v[i]]});
					}
				} else {
					gw = G.w;
					gh = G.h;
					for (i in G.k) {
						c = G.k[i].split("_");
						coords.push({x: c[0], y: c[1], v: G.v[i], c: "c" + G.c[G.v[i]]});
					}
				}
				pw = w/gw;
				ph = h/gh;
				puzzle_case_size = Math.floor(Math.min(pw, ph));
				pw = puzzle_case_size * gw;
				ph = puzzle_case_size * gh;
				puzzle = document.createElement("div");
				puzzle.id = "puzzle";
				puzzle.style.top = 5 + Math.ceil((h-ph)/2) + "px";
				puzzle.style.left = Math.ceil((w-pw)/2) + "px";
				puzzle.style.width = pw + "px";
				puzzle.style.height = ph + "px";
				for (i in coords) {
					e = document.createElement("div");
					e.className = coords[i].c;
					if (document.getElementById("L_" + coords[i].v).style.transform) {
						e.innerHTML = coords[i].v;
					}
					e.style.width = (puzzle_case_size - d) + "px";
					e.style.height = (puzzle_case_size - d) + "px";
					e.style.fontSize = (puzzle_case_size - d - 10) + "px";
					e.style.lineHeight = (puzzle_case_size - d) + "px";
					e.style.left = (coords[i].x * puzzle_case_size) + "px";
					e.style.top = (coords[i].y * puzzle_case_size) + "px";
					puzzle.appendChild(e);
				}
				document.getElementById("game-screen").replaceChild(puzzle, document.getElementById("puzzle"));
			}
			
			function start_game() {
				// Prevent user interaction
				document.getElementById("overlay").classList.remove("closed");
				// reset keyboard
				for (x of document.getElementById("keyboard").getElementsByClassName("keyboard-button")) {
					x.style.color = "";
					x.style.transform = "";
					x.style.opacity = "";
				}
				// TODO: get new puzzle
				draw_puzzle();
				hints = G.g.slice(0);
				// Place free letters, if some
				start_game_animation();
			}
			
			function start_game_animation() {
				cursor = document.getElementById("cursor");
				if (hints.length) {
					hint = hints.pop();
					dest = document.getElementById("L_" + hint).getBoundingClientRect();
					console.log(dest);
					cursor.style.left = dest.left + dest.width / 2 + "px";
					cursor.style.top = dest.top + dest.height / 2 + "px";
					cursor.classList.add("cursor-active");
					setTimeout(start_game_animation_click, 800, document.getElementById("L_" + hint));
				} else {
					// activate keyboard
					for (x of document.getElementById("keyboard").getElementsByClassName("keyboard-button")) {
						if (!x.style.transform) {
							x.classList.add("pulse");						
						}
					}
					// Remove overlay
					cursor.style.top = "";
					cursor.style.left = "";	
					document.getElementById("overlay").classList.add("closed");
				}
			}
			
			function start_game_animation_click(e) {
				document.getElementById("cursor").classList.remove("cursor-active");
				handle_play(e);
				setTimeout(start_game_animation, 1500);
			}
						
			var G = {'c': {'A': '9', 'C': '0', 'B': '7', 'E': '2', 'G': '11', 'I': '1', 'H': '5', 'L': '4', 'O': '6', 'R': '10', 'V': '3', 'Z': '8'}, 'g': ['Z', 'B'], 'h': 7, 'k': ['10_6', '6_2', '2_5', '8_5', '7_2', '5_5', '8_1', '7_6', '4_4', '2_2', '8_6', '5_4', '8_0', '8_2', '0_4', '1_4', '2_3', '4_2', '9_6', '5_3', '8_3', '9_2', '3_4', '5_2', '2_4', '8_4'], 'w': 11, 'v': ['L', 'H', 'O', 'L', 'I', 'C', 'B', 'O', 'G', 'Z', 'E', 'E', 'A', 'E', 'G', 'A', 'E', 'C', 'I', 'V', 'I', 'R', 'A', 'A', 'R', 'L']}; //{'h': 7, 'k': ['1_2', '5_4', '1_3', '3_3', '1_5', '5_6', '5_5', '3_2', '1_4', '2_0', '0_5', '2_5', '2_2', '4_5', '4_2', '1_0', '4_0', '3_0', '1_1', '6_5', '3_5'], 'c': {'E': '10', 'D': '9', 'I': '7', 'K': '4', 'J': '3', 'M': '6', 'L': '8', 'O': '2', 'S': '0', 'R': '1', 'U': '5', 'T': '11'}, 'w': 7, 'v': ['K', 'J', 'O', 'E', 'E', 'U', 'E', 'D', 'L', 'O', 'L', 'T', 'I', 'R', 'S', 'M', 'S', 'T', 'O', 'S', 'T']};
			var sounds = true;
			var playing = null;
			var hints = [];
			
			window.addEventListener("keypress", function (event) {
				var charCode = (typeof event.which == "number") ? event.which : event.keyCode;
				c = String.fromCharCode(charCode).toUpperCase();
				if ((ABC.indexOf(c) != -1) && (document.getElementById("L_" + c).classList.contains("pulse"))) {
					handle_play(document.getElementById("L_" + c));				
				}
			}, true);

			window.addEventListener("resize", function() {
				draw_keyboard();
				draw_puzzle();
			}, false);
			
			draw_keyboard();
			start_game();
			
			if ("serviceWorker" in navigator) {
				window.addEventListener("load", function () {
					navigator.serviceWorker.register("service-worker.js");
				});
			}						
		</script>
		<audio id="newgame-sound" onplaying="playing=this.id" onended="playing=null">
			<source src="sound/newgame.ogg" type="audio/ogg">
			<source src="sound/newgame.mp3" type="audio/mpeg">
		</audio>
		<audio id="good-sound" onplaying="playing=this.id" onended="playing=null">
			<source src="sound/good.ogg" type="audio/ogg">
			<source src="sound/good.mp3" type="audio/mpeg">
		</audio>
		<audio id="wrong-sound" onplaying="playing=this.id" onended="playing=null">
			<source src="sound/wrong.ogg" type="audio/ogg">
			<source src="sound/wrong.mp3" type="audio/mpeg">
		</audio>
	</body>
</html>